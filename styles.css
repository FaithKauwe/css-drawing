/* refactor steps to create and switch themes. 1: refactor current css to use var() 2: define new theme color sets
3: add javascript to switch themes when buttons are clicked 4: add theme specific decoraitve elemetns
TODO: (post-MVP) Make box-shadows themeable - could add custom shadow color variables for more dynamic theming */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* these are all the customvariables that can be used to to style elements when changing themes */
:root {
    --bg-glow-center: #8B4513;
    --bg-glow-mid: #4a2511;
    --bg-glow-outer: #2a1506;
    --bg-glow-edge: #0a0a0a;
    
    --candle-color: #f5f5dc;
    
    --flame-center: #ffff99;
    --flame-inner: #ffcc33;
    --flame-mid: #ff9933;
    --flame-outer: #ff6600;
    --flame-edge: #ff3300;
    
    --skull-color: #f5f5f5;
    --skull-holes: #000000;
    --tooth-color: #ffffff;
}

[data-theme="blood-moon"] {
    --bg-glow-center: #8B1538;
    --bg-glow-mid: #4a0e2a;
    --bg-glow-outer: #2a0515;
    --bg-glow-edge: #0a0008;
    
    --candle-color: #340e0e;
    
    --flame-center: #ff9999;
    --flame-inner: #ff6699;
    --flame-mid: #ff3366;
    --flame-outer: #cc0033;
    --flame-edge: #990022;
    
    --skull-color: #ffe6eb;
    --skull-holes: #330011;
    --tooth-color: #ffeef2;
}

[data-theme="birthday"] {
    --bg-glow-center: #87CEEB;
    --bg-glow-mid: #5fa8d3;
    --bg-glow-outer: #3d5a80;
    --bg-glow-edge: #1a2332;
    
    --candle-color: #FFD700;
    
    --flame-center: #ffff66;
    --flame-inner: #ffcc00;
    --flame-mid: #ff66cc;
    --flame-outer: #ff3399;
    --flame-edge: #ff0066;
    
    --skull-color: #ffffff;
    --skull-holes: #ff6347;
    --tooth-color: #f0f0f0;
}

body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    /* can specify where to have the circle to control the gradient point of origin */
    background: radial-gradient(circle at center, 
        var(--bg-glow-center) 0%, 
        var(--bg-glow-mid) 30%, 
        var(--bg-glow-outer) 60%, 
        var(--bg-glow-edge) 100%);
}

.container {
/* position realtive and absolute have a relationship where the absolute needs to find it's closest 
parent up the DOM tree with relative positioning. in this case, container will be the parent to all the 
absolute marked elements within it. */
    position: relative;
    width: 800px;
    height: 600px;
}

.candle {
    position: absolute;
    /* set the postion within the container */
    top: 200px;
    left: 280px;
    /* set the size of the candle and the shape, by using w/h, it creates a rectangle */
    width: 80px;
    height: 300px;
    background-color: var(--candle-color);
    /* Rounds only the top-left and top-right corners (soft top, flat bottom) */
    border-radius: 10px 10px 0 0;
    box-shadow: 
    /* Inner shadow on the right side (makes it look cylindrical) */
    inset -10px 0 20px rgba(0, 0, 0, 0.1),
    /* Drop shadow below the candle (gives depth) */
    0 10px 30px rgba(0, 0, 0, 0.5);
}
/* The math for centering the flame over the candle:
Candle is at left: 280px with width: 80px
Candle's center point: 280px + (80px Ã· 2) = 320px
Your flame is now width: 60px
To center the flame: 320px - (60px Ã· 2) = 320px - 30px = 290px 
don't forget the candle and flame are siblings and they both have realtive
position to container, not each other*/
.flame {
    position: absolute;
    top: 140px;
    left: 290px;
    width: 60px;
    height: 90px;
/* use radial gradiant effect to make the internal part of the flame glow */
/* use var() to reference the custom variables for the flame colors */
    background: radial-gradient(circle at 50% 80%, 
        var(--flame-center) 0%, 
        var(--flame-inner) 20%, 
        var(--flame-mid) 40%, 
        var(--flame-outer) 70%, 
        var(--flame-edge) 100%);
    border-radius: 50% 0 50% 50%;
/* 3 layers of box shadow to create the external glow aura */
    box-shadow: 
        0 0 20px var(--flame-mid),
        0 0 40px var(--flame-outer),
        0 0 60px var(--flame-edge);
/* call the flicker animation defined below with keyframes, set loop to 2 seconds
ease-in-out - animation-timing-function
Controls the pacing/easing between keyframes
ease-in-out = starts slow, speeds up in middle, ends slow (smooth!)
Other options: linear, ease, ease-in, ease-out, or custom cubic-bezier()
 infinite - animation-iteration-count, how many x it repeats */
        animation: flicker 2s ease-in-out infinite;
}

.skull-cranium {
    position: absolute;
/* increaswe the distance between the top border of the container and the object
the larger the number, the farther from the top edge */
    top: 350px;
/* increaswe the distance between the left border of the container and the object
the larger the number, the farther from the left edge */
    left: 339px;
    width: 180px;
    height: 200px;
    background-color: var(--skull-color);
    border-radius: 50% 50% 40% 40%;
    box-shadow: 
        inset -5px -5px 15px rgba(0, 0, 0, 0.2),
        0 10px 30px rgba(0, 0, 0, 0.4);
}

.skull-jaw {
    position: absolute;
    /* these numbers control the position of the object */
    top: 545px;
    left: 384px;
    /* these numbers control the siz of the object */
    width: 90px;
    height: 80px;
    background-color: var(--skull-color);
    border-radius: 0 0 45% 45%;
    box-shadow: 
        inset 5px 5px 10px rgba(0, 0, 0, 0.2),
        0 10px 30px rgba(0, 0, 0, 0.4);
}

.tooth {
    position: absolute;
    width: 14px;
    height: 20px;
    background-color: var(--tooth-color);
    border-radius: 2px 2px 0 0;
}

.tooth-1 {
    top: 555px;
    left: 386px;
    /* use clip-path to make a polygon to make the teeth pointy */
    clip-path: polygon(0px 0px, 14px 0px, 10px 20px, 4px 20px);
}

.tooth-2 {
    top: 555px;
    left: 404px;
}

.tooth-3 {
    top: 555px;
    left: 422px;
}

.tooth-4 {
    top: 555px;
    left: 440px;
}

.tooth-5 {
    top: 555px;
    left: 458px;
    clip-path: polygon(0px 0px, 14px 0px, 10px 20px, 4px 20px);
}

.tooth-bottom {
    position: absolute;
    width: 14px;
    height: 20px;
    background-color: var(--tooth-color);
    border-radius: 0 0 2px 2px;
}

.tooth-bottom-1 {
    top: 582px;
    left: 386px;
}

.tooth-bottom-2 {
    top: 582px;
    left: 404px;
}

.tooth-bottom-3 {
    top: 582px;
    left: 422px;
}

.tooth-bottom-4 {
    top: 582px;
    left: 440px;
}

.tooth-bottom-5 {
    top: 582px;
    left: 458px;
}

.eye-socket {
    position: absolute;
    /* ratio of size is 7/9 */
    width: 70px;
    height: 90px;
    background-color: var(--skull-holes);
    border-radius: 50% 0 50% 50%;
}

.eye-left {
    top: 390px;
    left: 359px;
    transform: rotate(-15deg);
}

.eye-right {
    top: 390px;
    left: 439px;
    /* applies 2 transformations in sequence, on the same line. first, rotate the element 15 degrees to be the mirror opposite of the
    left eye which is -15 degrees. then use scaleX(-1) to flip the element horizontally, effectively mirroring it across the y-axis. */
    transform: rotate(15deg) scaleX(-1);
    
}

.nose-cavity {
    position: absolute;
    top: 470px;
    left: 414px;
    width: 30px;
    height: 40px;
    background-color: var(--skull-holes);
    clip-path: polygon(50% 0%, 100% 100%, 0% 100%);
}

.moon {
    position: absolute;
    top: 50px;
    left: 100px;
    width: 120px;
    height: 120px;
    background: radial-gradient(circle at 40% 40%, 
        #e0e0e0 0%, 
        #b0b0b0 40%, 
        #808080 100%);
    border-radius: 50%;
    opacity: 0;
    transition: opacity 500ms;
}

[data-theme="blood-moon"] .moon {
    opacity: 1;
}

.party-hat {
    position: absolute;
/* make a triangle with width and height of 0 and the lines will meet in the middle*/
    top: 275px;
    left: 370px;
    width: 0;
    height: 0;
    border-left: 60px solid transparent;
    border-right: 60px solid transparent;
    border-bottom: 90px solid #ff6347;
    opacity: 0;
    transition: opacity 500ms;
}

[data-theme="birthday"] .party-hat {
    opacity: 1;
}

.party-pom {
    position: absolute;
    top: 260px;
    left: 415px;
    width: 30px;
    height: 30px;
    background-color: #ff66cc;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 500ms;
}

[data-theme="birthday"] .party-pom {
    opacity: 1;
}

.confetti {
    position: absolute;
    width: 10px;
    height: 15px;
    opacity: 0;
    transition: opacity 500ms;
}

[data-theme="birthday"] .confetti {
    opacity: 1;
}

.confetti-1 {
    top: 100px;
    left: 200px;
    background-color: #ff6347;
    transform: rotate(25deg);
}

.confetti-2 {
    top: 150px;
    left: 550px;
    background-color: #FFD700;
    transform: rotate(-15deg);
}

.confetti-3 {
    top: 250px;
    left: 150px;
    background-color: #87CEEB;
    transform: rotate(45deg);
}

.confetti-4 {
    top: 300px;
    left: 600px;
    background-color: #ff66cc;
    transform: rotate(-30deg);
}

.confetti-5 {
    top: 450px;
    left: 180px;
    background-color: #FFD700;
    transform: rotate(60deg);
}

.confetti-6 {
    top: 500px;
    left: 580px;
    background-color: #ff6347;
    transform: rotate(-45deg);
}

.theme-controls {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 20px;
    z-index: 1000;
}

.theme-btn {
    position: relative;
    padding: 16px 32px;
    font-size: 18px;
    font-weight: 600;
    border: 2px solid #333;
    border-radius: 8px;
    background-color: #fff;
    cursor: pointer;
    transition: all 300ms ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    overflow: visible;
}

.theme-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
}

.theme-btn:active {
    transform: translateY(0);
}
/* set a pseudo element with the content being the ghost emoji 
opacity set at 0 on the before so it appears suddenly when user hovers*/
.theme-btn[data-theme="halloween"]::after {
    content: "ðŸ‘»";
    position: absolute;
    top: 40px;
    left: 50%;
    transform: translateX(-50%) scale(0);
    font-size: 32px;
    opacity: 0;
    transition: all 400ms cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.theme-btn[data-theme="halloween"]:hover::after {
    top: 40px;
    transform: translateX(-50%) scale(1);
    opacity: 1;
}

/* pseudo element  to crete a gradient background- use the z index so it's behind the text */
.theme-btn[data-theme="blood-moon"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 0;
    background: linear-gradient(180deg, #8B0000 0%, #5c0a0a 100%);
    border-radius: 8px;
    z-index: -1;
    transition: height 600ms ease-out;
}

.theme-btn[data-theme="blood-moon"]:hover::before {
    height: 100%;
}

/* define the keyframes for the flicker animation, each one is a different state of scale and opacity
and the % represent the amount of time within the loop where each keyframe is happening */
@keyframes flicker {
    0% {
        transform: scale(1) translateY(0);
        opacity: 1;
    }
    20% {
        transform: scale(1.05, 0.95) translateY(-1px);
        opacity: 0.95;
    }
    40% {
        transform: scale(0.98, 1.03) translateY(1px);
        opacity: 0.9;
    }
    60% {
        transform: scale(1.02, 0.97) translateY(-2px);
        opacity: 0.93;
    }
    80% {
        transform: scale(0.97, 1.04) translateY(0);
        opacity: 0.98;
    }
    100% {
        transform: scale(1) translateY(0);
        opacity: 1;
    }
}

